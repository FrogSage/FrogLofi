function distToSqEdge(t, e, i, h, s) { return vx = h - e, vy = s - i, i = e = 0, vx > vy ? vx > -vy ? e = 1 : i = 1 : vx > -vy ? i = -1 : e = -1, vlength = Math.sqrt(vx * vx + vy * vy), vux = vx / vlength, vuy = vy / vlength, cosA = vux * e + vuy * i, centreToSqEdge = Math.abs(.5 * t / cosA), mouseToSquareEdge = vlength - centreToSqEdge } !function (t) { t.fn.resizeOnApproach = function (e) { var i = { elementDefault: 35, elementClosest: 55, triggerDistance: 200, setWidthAndHeight: !1 }; e && t.extend(i, e); var h = i.setWidthAndHeight, s = this, n = i.elementDefault, v = i.triggerDistance, o = i.elementClosest - n, g = o / v; t(document).ready((function () { s.each((function () { this.style.width = n + "px", h && (this.style.height = n + "px") })) })), t(document).mousemove((function (e) { var i = e.pageX, d = e.pageY; s.each((function () { var e = t(this).offset(); (e = distToSqEdge(this.width, e.left + this.width / 2, e.top + this.height / 2, i, d)) < v ? (e < 0 && (e = 0), !0, e = n + (o - e * g), this.style.width = e + "px", h && (this.style.height = e + "px")) : (this.style.width = n + "px", h && (this.style.height = n + "px")) })) })) } }(jQuery);